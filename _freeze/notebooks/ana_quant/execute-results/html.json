{
  "hash": "f36a70e4ebb964496776abd1cb0a9fcb",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Quantitative Analyses\" \nauthor: \"Kendra Wyant\"\ndate: \"2024-09-03\"\nformat: \n  html: \n    embed-resources: true\n    toc: true \n    toc_depth: 4\neditor_options: \n  chunk_output_type: console\n--- \n\n\n\n\n\nPurpose: This file is the primary analysis script for the self-report acceptability data (`burden_quant.csv`). \n\n## Set up\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n#| message: false\n\noptions(conflicts.policy = \"depends.ok\")\nlibrary(tidyverse) \n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n#| message: false\n\nlibrary(janitor)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\n\nAttaching package: 'janitor'\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n#| message: false\n\ndevtools::source_url(\"https://github.com/jjcurtin/lab_support/blob/main/format_path.R?raw=true\")\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nℹ SHA-1 hash of file is \"a58e57da996d1b70bb9a5b58241325d6fd78890f\"\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n#| message: false\n\ntheme_set(theme_classic())\n\npath_burden <- format_path(\"studydata/risk2/data_processed/burden2\")\n```\n:::\n\n\n\n\n### Data\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\ndem <- read_csv(here::here(path_burden, \"demographics.csv\"),\n                show_col_types = FALSE) \n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nburden <- read_csv(here::here(path_burden, \"burden_quant.csv\"),\n                   show_col_types = FALSE) |> \n  mutate(daily_update_interfere = factor(daily_update_interfere, \n                                         levels = c(\"Strongly agree\", \"Mildly agree\", \n                                          \"Agree and disagree equally\", \"Mildly disagree\", \n                                          \"Strongly disagree\")),\n         daily_update_interfere = factor(daily_update_interfere, \n                                         levels = c(\"Strongly agree\", \"Mildly agree\", \n                                          \"Agree and disagree equally\", \"Mildly disagree\", \n                                          \"Strongly disagree\")),\n         monthly_update_interfere = factor(monthly_update_interfere, \n                                         levels = c(\"Strongly agree\", \"Mildly agree\", \n                                          \"Agree and disagree equally\", \"Mildly disagree\", \n                                          \"Strongly disagree\")),\n         daily_update_dislike = factor(daily_update_dislike, \n                                         levels = c(\"Strongly agree\", \"Mildly agree\", \n                                          \"Agree and disagree equally\", \"Mildly disagree\", \n                                          \"Strongly disagree\")),\n         monthly_update_dislike = factor(monthly_update_dislike, \n                                         levels = c(\"Strongly agree\", \"Mildly agree\", \n                                          \"Agree and disagree equally\", \"Mildly disagree\", \n                                          \"Strongly disagree\")),\n         gps_dislike = factor(gps_dislike, \n                                         levels = c(\"Strongly agree\", \"Mildly agree\", \n                                          \"Agree and disagree equally\", \"Mildly disagree\", \n                                          \"Strongly disagree\")),\n         sms_phone_logs_dislike = factor(sms_phone_logs_dislike, \n                                         levels = c(\"Strongly agree\", \"Mildly agree\", \n                                          \"Agree and disagree equally\", \"Mildly disagree\", \n                                          \"Strongly disagree\")),\n         sms_content_dislike = factor(sms_content_dislike, \n                                         levels = c(\"Strongly agree\", \"Mildly agree\", \n                                          \"Agree and disagree equally\", \"Mildly disagree\", \n                                          \"Strongly disagree\"))) |> \n  glimpse()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 247\nColumns: 12\n$ subid                    <dbl> 1006, 1009, 1010, 1012, 1014, 1017, 1020, 102…\n$ study_start              <dttm> 2021-04-24 20:41:22, 2021-05-05 02:23:12, 20…\n$ user_survey_guid         <chr> \"7720de45-c927-48fe-96c0-a1ec579d4462\", \"6561…\n$ start_date               <dttm> 2021-06-26 04:27:28, 2021-07-15 01:14:24, 20…\n$ complete_date            <dttm> 2021-06-26 10:02:12, 2021-07-15 01:39:22, 20…\n$ daily_update_interfere   <fct> Strongly disagree, Strongly disagree, Mildly …\n$ daily_update_dislike     <fct> Strongly disagree, Strongly disagree, Mildly …\n$ monthly_update_interfere <fct> Strongly disagree, Mildly disagree, Strongly …\n$ monthly_update_dislike   <fct> Strongly disagree, Mildly disagree, Mildly ag…\n$ gps_dislike              <fct> Strongly disagree, Mildly disagree, Mildly di…\n$ sms_phone_logs_dislike   <fct> Strongly disagree, Mildly disagree, Mildly di…\n$ sms_content_dislike      <fct> Strongly disagree, Mildly disagree, Mildly di…\n```\n\n\n:::\n:::\n\n\n\n\n### Interference\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\ninterference_plot_data <- burden |> \n  select(contains(\"interfere\")) |>   \n  pivot_longer(everything(), names_to = \"measure\", values_drop_na = TRUE) |> \n  mutate(measure = factor(measure, \n                          levels = c(\"daily_update_interfere\", \"monthly_update_interfere\"),\n                          labels = c(\"Daily update\", \"Monthly update\"))) |> \n  mutate(value = factor(value, levels = c(\"Strongly agree\", \"Mildly agree\", \n                                          \"Agree and disagree equally\", \"Mildly disagree\", \n                                          \"Strongly disagree\"))) \n\n\nplot_int <- interference_plot_data |> \n  ggplot(aes(x = value, y = after_stat(prop), group = measure)) +\n  geom_bar(color = \"black\", fill = \"light grey\") +\n  facet_grid(~ measure) +\n  theme_classic() +\n  labs(y = \"Proportion\",\n       x = NULL,\n       title = \"Completing the update interfered with my daily activities\") +\n  theme(legend.position = \"none\",\n        text = element_text(size = 12),\n        axis.text.x = element_text(angle = 45, hjust = 1)) +\n  ylim(0, .7) +\n  geom_vline(aes(xintercept = \"Agree and disagree equally\"), linetype = \"dashed\", linewidth = .4, color = \"#787575\") +\n  geom_vline(aes(xintercept = means), interference_plot_data |> \n  group_by(measure) |> \n  summarise(means = mean(as.numeric(value), na.rm = TRUE)), linewidth = .705, color = \"black\") \n```\n:::\n\n::: {#cell-fig-1 .cell}\n\n```{.r .cell-code .hidden}\n#| label: fig-1\n#| fig-cap: \"Interference.\"\n#| fig-width: 7\n\nplot_int\n```\n\n::: {.cell-output-display}\n![Interference.](ana_quant_files/figure-html/fig-1-1.png){#fig-1 width=672}\n:::\n:::\n\n\n\n\n#### Correlation and Summary Statistics\n\nRun one sample t-tests to compare each raw data stream mean (for self-reported acceptability about interference) to a neutral score of 0.   \n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nburden_ana <- burden |> \n  mutate(daily_update_interfere = case_match(daily_update_interfere, \n                                             \"Strongly agree\" ~ -2, \n                                             \"Mildly agree\" ~ -1, \n                                             \"Agree and disagree equally\" ~ 0, \n                                             \"Mildly disagree\" ~ 1, \n                                             \"Strongly disagree\" ~ 2),\n         monthly_update_interfere = case_match(monthly_update_interfere, \n                                             \"Strongly agree\" ~ -2, \n                                             \"Mildly agree\" ~ -1, \n                                             \"Agree and disagree equally\" ~ 0, \n                                             \"Mildly disagree\" ~ 1, \n                                             \"Strongly disagree\" ~ 2),\n         daily_update_dislike = case_match(daily_update_dislike, \n                                             \"Strongly agree\" ~ -2, \n                                             \"Mildly agree\" ~ -1, \n                                             \"Agree and disagree equally\" ~ 0, \n                                             \"Mildly disagree\" ~ 1, \n                                             \"Strongly disagree\" ~ 2),\n         monthly_update_dislike = case_match(monthly_update_dislike, \n                                             \"Strongly agree\" ~ -2, \n                                             \"Mildly agree\" ~ -1, \n                                             \"Agree and disagree equally\" ~ 0, \n                                             \"Mildly disagree\" ~ 1, \n                                             \"Strongly disagree\" ~ 2),\n         gps_dislike = case_match(gps_dislike, \n                                             \"Strongly agree\" ~ -2, \n                                             \"Mildly agree\" ~ -1, \n                                             \"Agree and disagree equally\" ~ 0, \n                                             \"Mildly disagree\" ~ 1, \n                                             \"Strongly disagree\" ~ 2),\n         sms_phone_logs_dislike = case_match(sms_phone_logs_dislike, \n                                             \"Strongly agree\" ~ -2, \n                                             \"Mildly agree\" ~ -1, \n                                             \"Agree and disagree equally\" ~ 0, \n                                             \"Mildly disagree\" ~ 1, \n                                             \"Strongly disagree\" ~ 2),\n         sms_content_dislike = case_match(sms_content_dislike, \n                                             \"Strongly agree\" ~ -2, \n                                             \"Mildly agree\" ~ -1, \n                                             \"Agree and disagree equally\" ~ 0, \n                                             \"Mildly disagree\" ~ 1, \n                                             \"Strongly disagree\" ~ 2))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n(int_daily <- broom::tidy(lm(daily_update_interfere ~ 1, data = burden_ana)) |> \n  mutate(sd = sd(burden_ana$daily_update_interfere, na.rm = TRUE),\n         d = mean(burden_ana$daily_update_interfere, na.rm = TRUE)/sd))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 7\n  term        estimate std.error statistic  p.value    sd     d\n  <chr>          <dbl>     <dbl>     <dbl>    <dbl> <dbl> <dbl>\n1 (Intercept)     1.47    0.0590      24.8 5.26e-69 0.927  1.58\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n(int_monthly <- broom::tidy(lm(monthly_update_interfere ~ 1, data = burden_ana)) |> \n  mutate(sd = sd(burden_ana$monthly_update_interfere, na.rm = TRUE),\n         d = mean(burden_ana$monthly_update_interfere, na.rm = TRUE)/sd))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 7\n  term        estimate std.error statistic  p.value    sd     d\n  <chr>          <dbl>     <dbl>     <dbl>    <dbl> <dbl> <dbl>\n1 (Intercept)     1.29    0.0668      19.3 2.74e-51  1.05  1.23\n```\n\n\n:::\n:::\n\n\n\n**Possibly add demographics into model as predictor**\n\n\n### Dislike\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\ndislike_plot_data <- burden |> \n  select(contains(\"dislike\")) |>   \n  pivot_longer(everything(), names_to = \"measure\", values_drop_na = TRUE) |> \n  mutate(measure = factor(measure, \n                          levels = c(\"daily_update_dislike\", \"monthly_update_dislike\",\n                                     \"gps_dislike\", \"sms_phone_logs_dislike\", \n                                     \"sms_content_dislike\"),\n                          labels = c(\"Daily update\", \"Monthly update\", \"Geolocation\",\n                                     \"SMS and phone logs\", \"SMS content\"))) |> \n  mutate(value = factor(value, levels = c(\"Strongly agree\", \"Mildly agree\", \n                                          \"Agree and disagree equally\", \"Mildly disagree\", \n                                          \"Strongly disagree\"))) \n\n\nplot_dis <- dislike_plot_data |> \n  ggplot(aes(x = value, y = after_stat(prop), group = measure)) +\n  geom_bar(color = \"black\", fill = \"light grey\") +\n  facet_wrap(~ measure, ncol = 3) +\n  theme_classic() +\n  labs(y = \"Proportion\",\n       x = NULL,\n       title = \"I disliked [sensing method]\") +\n  theme(legend.position = \"none\",\n        text = element_text(size = 12),\n        axis.text.x = element_text(angle = 45, hjust = 1)) +\n  ylim(0, .7) +\n  geom_vline(aes(xintercept = \"Agree and disagree equally\"), linetype = \"dashed\", linewidth = .4, color = \"#787575\") +\n  geom_vline(aes(xintercept = means), dislike_plot_data |> \n  group_by(measure) |> \n  summarise(means = mean(as.numeric(value), na.rm = TRUE)), linewidth = .705, color = \"black\") \n```\n:::\n\n::: {#cell-fig-2 .cell}\n\n```{.r .cell-code .hidden}\n#| label: fig-2\n#| fig-cap: \"Dislike\"\n#| fig-width: 7\n\nplot_dis\n```\n\n::: {.cell-output-display}\n![Dislike](ana_quant_files/figure-html/fig-2-1.png){#fig-2 width=672}\n:::\n:::\n\n\n\nOverall correlations\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nburden_ana |> \n  select(contains(\"interfere\")) |> \n  cor()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                         daily_update_interfere monthly_update_interfere\ndaily_update_interfere                1.0000000                0.5074471\nmonthly_update_interfere              0.5074471                1.0000000\n```\n\n\n:::\n:::\n\n\n\n\nICC\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nburden_ana |> \n  select(contains(\"interfere\")) |> \n  psych::ICC()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nCall: psych::ICC(x = select(burden_ana, contains(\"interfere\")))\n\nIntraclass correlation coefficients \n                         type  ICC   F df1 df2       p lower bound upper bound\nSingle_raters_absolute   ICC1 0.49 2.9 246 247 5.7e-17        0.39        0.58\nSingle_random_raters     ICC2 0.50 3.0 246 246 1.2e-17        0.40        0.59\nSingle_fixed_raters      ICC3 0.50 3.0 246 246 1.2e-17        0.40        0.59\nAverage_raters_absolute ICC1k 0.66 2.9 246 247 5.7e-17        0.56        0.74\nAverage_random_raters   ICC2k 0.66 3.0 246 246 1.2e-17        0.57        0.74\nAverage_fixed_raters    ICC3k 0.67 3.0 246 246 1.2e-17        0.58        0.74\n\n Number of subjects = 247     Number of Judges =  2\nSee the help file for a discussion of the other 4 McGraw and Wong estimates,\n```\n\n\n:::\n:::\n\n\n\n#### Correlation and Summary Statistics\n\nRun one sample t-tests to compare each raw data stream mean (for self-reported acceptability about interference) to a neutral score of 0.   \n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n(dis_daily <- broom::tidy(lm(daily_update_dislike ~ 1, data = burden_ana)) |> \n  mutate(sd = sd(burden_ana$daily_update_dislike, na.rm = TRUE),\n         d = mean(burden_ana$daily_update_dislike, na.rm = TRUE)/sd))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 7\n  term        estimate std.error statistic  p.value    sd     d\n  <chr>          <dbl>     <dbl>     <dbl>    <dbl> <dbl> <dbl>\n1 (Intercept)     1.47    0.0570      25.7 1.19e-71 0.896  1.64\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n(dis_monthly <- broom::tidy(lm(monthly_update_dislike ~ 1, data = burden_ana)) |> \n  mutate(sd = sd(burden_ana$monthly_update_dislike, na.rm = TRUE),\n         d = mean(burden_ana$monthly_update_dislike, na.rm = TRUE)/sd))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 7\n  term        estimate std.error statistic  p.value    sd     d\n  <chr>          <dbl>     <dbl>     <dbl>    <dbl> <dbl> <dbl>\n1 (Intercept)     1.15    0.0733      15.7 6.37e-39  1.15  1.00\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n(dis_gps <- broom::tidy(lm(gps_dislike ~ 1, data = burden_ana)) |> \n  mutate(sd = sd(burden_ana$gps_dislike, na.rm = TRUE),\n         d = mean(burden_ana$gps_dislike, na.rm = TRUE)/sd))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 7\n  term        estimate std.error statistic  p.value    sd     d\n  <chr>          <dbl>     <dbl>     <dbl>    <dbl> <dbl> <dbl>\n1 (Intercept)    0.996    0.0743      13.4 3.71e-31  1.17 0.853\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n(dis_logs <- broom::tidy(lm(sms_phone_logs_dislike  ~ 1, data = burden_ana)) |> \n  mutate(sd = sd(burden_ana$sms_phone_logs_dislike, na.rm = TRUE),\n         d = mean(burden_ana$sms_phone_logs_dislike, na.rm = TRUE)/sd))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 7\n  term        estimate std.error statistic  p.value    sd     d\n  <chr>          <dbl>     <dbl>     <dbl>    <dbl> <dbl> <dbl>\n1 (Intercept)    0.972    0.0774      12.6 2.98e-28  1.21 0.801\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n(dis_sms <- broom::tidy(lm(sms_content_dislike ~ 1, data = burden_ana)) |> \n  mutate(sd = sd(burden_ana$sms_content_dislike, na.rm = TRUE),\n         d = mean(burden_ana$sms_content_dislike, na.rm = TRUE)/sd))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 1 × 7\n  term        estimate std.error statistic  p.value    sd     d\n  <chr>          <dbl>     <dbl>     <dbl>    <dbl> <dbl> <dbl>\n1 (Intercept)    0.951    0.0773      12.3 2.26e-27  1.21 0.786\n```\n\n\n:::\n:::\n\n\n\nOverall correlations\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nburden_ana |> \n  select(contains(\"dislike\")) |> \n  cor(use = \"pairwise.complete.obs\")\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n                       daily_update_dislike monthly_update_dislike gps_dislike\ndaily_update_dislike              1.0000000              0.4799559   0.3206389\nmonthly_update_dislike            0.4799559              1.0000000   0.3255222\ngps_dislike                       0.3206389              0.3255222   1.0000000\nsms_phone_logs_dislike            0.3308976              0.3289403   0.7574698\nsms_content_dislike               0.3106661              0.2966956   0.7177839\n                       sms_phone_logs_dislike sms_content_dislike\ndaily_update_dislike                0.3308976           0.3106661\nmonthly_update_dislike              0.3289403           0.2966956\ngps_dislike                         0.7574698           0.7177839\nsms_phone_logs_dislike              1.0000000           0.8275681\nsms_content_dislike                 0.8275681           1.0000000\n```\n\n\n:::\n:::\n\n\n\nICC\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nburden_ana |> \n  select(contains(\"dislike\")) |> \n  psych::ICC()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nCall: psych::ICC(x = select(burden_ana, contains(\"dislike\")))\n\nIntraclass correlation coefficients \n                         type  ICC   F df1 df2     p lower bound upper bound\nSingle_raters_absolute   ICC1 0.46 5.2 246 988 8e-78        0.40        0.52\nSingle_random_raters     ICC2 0.46 5.6 246 984 5e-84        0.40        0.53\nSingle_fixed_raters      ICC3 0.48 5.6 246 984 5e-84        0.42        0.54\nAverage_raters_absolute ICC1k 0.81 5.2 246 988 8e-78        0.77        0.84\nAverage_random_raters   ICC2k 0.81 5.6 246 984 5e-84        0.77        0.85\nAverage_fixed_raters    ICC3k 0.82 5.6 246 984 5e-84        0.78        0.85\n\n Number of subjects = 247     Number of Judges =  5\nSee the help file for a discussion of the other 4 McGraw and Wong estimates,\n```\n\n\n:::\n:::\n",
    "supporting": [
      "ana_quant_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}